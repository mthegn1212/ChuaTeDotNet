@model BatDongSan.Models.News

@{
ViewData["Title"] = "News Detail";
/*
Layout = "_Layout1";
*/
}

<body class="ftco-section">
<div class="container mt-5">
    <div class="row">
        <!-- Left Column: News Content -->
        <div class="col-md-8">
            <div id="newsCarousel" class="carousel" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <!-- Main Image -->
                    @*@if (!string.IsNullOrEmpty(Model.ImagePath))
                    {*@
                    <div class="carousel-item active">
                        <img src="@Url.Content("~/uploads/0f0ca1db-569f-4f73-9112-80c67c9296a5.png")" class="d-block w-100 fixed-size-img" alt="News Image">
                    </div>
                    @*}
                    else
                    {
                    <div class="carousel-item active">
                        <p>No image available.</p>
                    </div>
                    }*@
                </div>
            </div>

            <div class="mt-5">
                <h2>@Model.Title</h2>
                <p class="text-muted">Đăng ngày: @Model.DateUp?.ToString("dd/MM/yyyy")</p>
                <hr>
                <h4 class="mt-3">Nội dung:</h4>
                <p>@Model.Content</p>
                <h4 class="mt-3">Chi tiết:</h4>
                <p>@Model.Detail</p>
            </div>
        </div>

        <!-- Right Column: Sidebar -->
        <div class="col-md-4">
            <div class="mt-4">
                <h5>Thông tin liên quan</h5>
                <ul class="list-group m-1">
                    @if (ViewBag.RelatedNews != null)
                    {
                    foreach (var relatedNews in ViewBag.RelatedNews)
                    {
                    <li class="list-group-item">
                        <img src="@Url.Content("~/uploads/0f0ca1db-569f-4f73-9112-80c67c9296a5.png")"
                             style="width:28px; height:28px; object-fit: cover" alt=""/>
                        <a href="@Url.Action("Detail", "News", new { id = relatedNews.Id })" class="p-2">
                            @relatedNews.Title
                        </a>
                    </li>
                    }
                    }
                    else
                    {
                    <li class="list-group-item">Không có bài viết liên quan.</li>
                    }
                </ul>
            </div>
        </div>
    </div>

    <!-- Share Button -->
    <div class="row mt-3">
        <div class="col-md-8">
            <button type="button" class="btn btn-primary" onclick="openFacebookShare()">Chia sẻ trên Facebook</button>
        </div>
    </div>
</div>
</body>

<script>
    function openFacebookShare() {
        const currentUrl = window.location.href; // Get current URL
        const facebookShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(currentUrl)}`;

        // Open Facebook share page
        window.open(facebookShareUrl, "_blank");
    }
</script>
